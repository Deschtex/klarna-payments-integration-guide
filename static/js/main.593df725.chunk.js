(window["webpackJsonpklarna-payments-integration-example"]=window["webpackJsonpklarna-payments-integration-example"]||[]).push([[0],{1621:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(8),s=r.n(o),c=(r(202),r(33),r(20)),i=(r(204),r(1622),r(191)),u=r(11),l=r(15),p=r(13),d=r(12),h=r(14),m=r(9),y="UPDATE_CREDENTIALS",f="UPDATE_SERVER",g="UPDATE_SESSION_DATA",S="UPDATE_LOAD_DATA",b="UPDATE_AUTH_DATA",v="UPDATE_ORDER_DATA",A="UPDATE_CAPTURE_DATA",O="UPDATE_PURCHASE_COUNTRY",E="ADD_NEW_ITEM",C="RESET_ORDER_LINES",P="UPDATE_ORDER_LINES",I="INCREASE_STEP_INDEX",j="RESET_STEP_INDEX",_="ADD_MESSAGE_DETAILS",w="RESET_CREDENTIALS",D="UPDATE_PAYMENT_CATEGORY",M="SET_ACTION_IN_PROGRESS",x="UPDATE_AVAILABLE_MERCHANTS",U="SET_PROXY_MODE",k="SET_SHOULD_SHOW_SHOPPING_CART",T="REGENERATE_CONSUMER_ADDRESS",N="SET_SHOULD_SHOW_BILLING_ADDRESS",L="UPDATE_BILLING_ADDRESS",z="SET_SHOULD_SEND_BILLING_ADDRESS",H="SET_IS_PREDEFINED_MERCHANT",B="LOGOUT_LOCAL_MERCHANT",R="UPDATE_PROXY_URL",K="UPDATE_MERCHANT_DATA",F="SET_ACCESS_FROM_INTERNAL",V="UPDATE_APP_VERSION",G="UPDATE_CUSTOMER_DATA",q="SET_SHOULD_SHOW_CUSTOMER_DATA",J="SET_SHOULD_SEND_CUSTOMER_DATA",W="UPDATE_DESIGN",Y="UPDATE_LOCALE",X="SET_ACTIVE_CONFIGURATION_TAB";function $(e){return{type:y,payload:e}}function Q(e){return{type:O,payload:e}}function Z(e){return{type:_,payload:e}}function ee(){return{type:I}}function te(e){return{type:M,payload:e}}function re(e){return{type:U,payload:e}}function ne(e){return{type:N,payload:e}}function ae(e){return{type:k,payload:e}}function oe(e){return{type:H,payload:e}}function se(e){return{type:q,payload:e}}var ce=function(e){return{onSetActiveConfigurationTab:function(t){return e({type:X,payload:t})}}},ie=function(e){return{activeConfiguratioTab:e.activeConfiguratioTab}},ue=(r(77),r(32)),le=function(e){return{server:e.server,isAccessFromInternal:e.isAccessFromInternal}},pe=function(e){return{onUpdateServer:function(t){return e({type:f,payload:t})},onUpdatePurchaseCountry:function(t){return e(Q(t))}}},de=[{serverType:"external",serverName:"eu_playground",serverUrl:"https://api.playground.klarna.com"},{serverType:"external",serverName:"us_playground",serverUrl:"https://api-na.playground.klarna.com"},{serverType:"internal",serverName:"eu_staging",serverUrl:"https://api-eu.staging.eu1.yaco.klarna.net"},{serverType:"internal",serverName:"us_staging",serverUrl:"https://api-na.staging.eu1.yaco.klarna.net"},{serverType:"production",serverName:"eu_production",serverUrl:"https://api.klarna.com"},{serverType:"production",serverName:"us_production",serverUrl:"https://api-na.klarna.com"}],he=function(e){var t=de.filter(function(t){return t.serverUrl===e});return t.length>0?t[0]:null},me={eu_production:"DE",us_production:"US",eu_playground:"DE",us_playground:"US",eu_staging:"DE",us_staging:"US"},ye=ue.a.Option,fe=ue.a.OptGroup,ge=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).switchServer=function(e){r.props.onUpdateServer(e);var t=he(e).serverName,n=me[t];r.props.onUpdatePurchaseCountry(n)},r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=["external"];this.props.isAccessFromInternal&&(e=["internal","external","production"]);var t=e.map(function(e){var t=de.filter(function(t){return t.serverType===e}).map(function(e,t){var r=e.serverName,n=e.serverUrl;return a.a.createElement(ye,{value:n,key:t},r)});return a.a.createElement(fe,{label:e,key:e},t)});return a.a.createElement("div",{className:"Server"},a.a.createElement("div",null,"Environment:\xa0"),a.a.createElement("div",{style:{flexGrow:1}},a.a.createElement(ue.a,{defaultValue:this.props.server,onChange:this.switchServer,style:{width:"100%"}},t)))}}]),t}(a.a.Component),Se=Object(m.b)(le,pe)(ge),be=function(e){return{purchaseCountry:e.purchaseCountry}},ve=function(e){return{onUpdatePurchaseCountry:function(t){return e(Q(t))},onSetActionInProgress:function(t){return e(te(t))}}},Ae=["GB","DE","US","AT","DK","NL","NO","SE","FI"],Oe=ue.a.Option,Ee=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).updatePurchaseCountry=function(e){r.props.onUpdatePurchaseCountry(e)},r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"PurchaseCountry"},a.a.createElement("div",null,"Purchase Country: \xa0"),a.a.createElement("div",{style:{flexGrow:1}},a.a.createElement(ue.a,{value:this.props.purchaseCountry,onChange:this.updatePurchaseCountry,style:{width:"100%"}},Ae.map(function(e){return a.a.createElement(Oe,{key:e,value:e},e)}))))}}]),t}(a.a.Component),Ce=Object(m.b)(be,ve)(Ee),Pe=(r(121),r(69)),Ie=(r(154),r(102)),je=(r(60),r(34)),_e=(r(271),r(192)),we=(r(40),r(6)),De=function(e){return{proxyUrl:e.proxyUrl,proxyMode:e.proxyMode}},Me=function(e){return{onSetProxyMode:function(t){return e(re(t))},onUpdateProxyUrl:function(t){return e({type:R,payload:t})}}},xe=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={proxyUrl:null},r.onChange=function(e){r.setState({proxyUrl:e.target.value})},r.onComponentWillUpdate=function(){r.setState({proxyUrl:null})},r.onSetProxyMode=function(e){r.props.onSetProxyMode(e)},r.onUpdateProxy=function(e){e.preventDefault();var t=e.target.value;r.props.onUpdateProxyUrl(t),c.a.open({message:"Proxy updated",description:"Please make sure this is a trusted server.",onClick:function(){}})},r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=a.a.createElement(je.a,{placeholder:"Only use a trusted proxy.",onPressEnter:this.onUpdateProxy,onChange:this.onChange,defaultValue:this.props.proxyUrl,value:this.state.proxyUrl||this.props.proxyUrl,suffix:a.a.createElement(_e.a,{title:"Warning: using an untrusted proxy may leak your credential."},a.a.createElement(we.a,{type:"exclamation-circle",style:{color:"rgba(250,50,0,.65)"}}))}),t=a.a.createElement(Ie.a,{message:"Make sure your browser can skip CORS, otherwise turn on the Proxy Mode.",type:"success",style:{padding:"5px 15px"}});return a.a.createElement("div",{className:"ProxyMode"},a.a.createElement("div",{className:"ProxyToggle"},a.a.createElement(Pe.a,{defaultChecked:!0,checked:this.props.proxyMode,onChange:this.onSetProxyMode})," Proxy Mode\xa0"),a.a.createElement("div",{style:{flex:1}},this.props.proxyMode?e:t))}}]),t}(a.a.Component),Ue=Object(m.b)(De,Me)(xe),ke=function(e){return{onUpdateAppVersion:function(t){return e({type:V,payload:t})}}},Te=function(e){return{appVsn:e.appVsn,isAccessFromInternal:e.isAccessFromInternal}},Ne=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={appVsn:r.props.appVsn},r.onChange=function(e){r.setState({appVsn:e.target.value})},r.updateAppVsn=function(){var e=window.document.getElementById("internal_app_version");e.select();var t=e.value;r.props.onUpdateAppVersion(t),c.a.open({message:"App version updated to ".concat(t||"default",".")})},r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.isAccessFromInternal?a.a.createElement("div",{className:"AppVsn"},a.a.createElement("div",{style:{lineHeight:"2em",padding:"0 5px"}},"App Version: "),a.a.createElement("div",{style:{flex:1}},a.a.createElement(je.a,{id:"internal_app_version",onChange:this.onChange,onPressEnter:this.updateAppVsn,value:this.state.appVsn,placeholder:"Internal use only",addonAfter:a.a.createElement(we.a,{type:"check",onClick:this.updateAppVsn,style:{color:"#2cb3ad"}})}))):null}}]),t}(a.a.Component),Le=Object(m.b)(Te,ke)(Ne),ze=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"GeneralSettingsDetails"},a.a.createElement("div",{className:"ServerSettings"},a.a.createElement(Se,null),a.a.createElement(Ce,null)),a.a.createElement("div",{className:"OtherSettings"},a.a.createElement(Ue,null),a.a.createElement(Le,null)))}}]),t}(a.a.Component),He=(r(31),r(17)),Be=(r(155),r(81)),Re=function(e){return{onUpdateCredentials:function(t){return e($(t))},onLogoutLocalMerchant:function(){return e({type:B})},onSetIsPredefinedMerchant:function(t){return e(oe(t))}}},Ke=function(e){return{localMerchantUsername:e.localMerchantUsername,isPredefinedMerchant:e.isPredefinedMerchant}},Fe=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).updateCredentials=function(){var e=window.document.getElementById("username").value,t=window.document.getElementById("password").value;e&&t&&(r.props.onUpdateCredentials({userName:e,password:t,isPredefinedMerchant:!1}),c.a.open({message:"Authorization Header Updated",description:"The Authentication Header used in the REST calls will be updated using the user name and password you have just filled in.",onClick:function(){}}))},r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.props.localMerchantUsername?a.a.createElement("div",{onClick:function(){e.props.onSetIsPredefinedMerchant(!1)}},a.a.createElement(Be.a,{checked:!this.props.isPredefinedMerchant}),"Logged in as ",this.props.localMerchantUsername,". ",a.a.createElement(He.a,{type:"danger",onClick:function(){e.props.onLogoutLocalMerchant()}},"Logout")):a.a.createElement("div",{className:"Credentials"},a.a.createElement("div",{onClick:function(){e.props.onSetIsPredefinedMerchant(!1)}},a.a.createElement(Be.a,{checked:!this.props.isPredefinedMerchant}),"Credentials:\xa0"),a.a.createElement("div",{className:"MerchantLoginInputField"},a.a.createElement(je.a,{id:"username",prefix:a.a.createElement(we.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username",onPressEnter:this.updateCredentials})),a.a.createElement("div",{className:"MerchantLoginInputField"},a.a.createElement(je.a,{id:"password",prefix:a.a.createElement(we.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",onPressEnter:this.updateCredentials})),a.a.createElement("div",null,a.a.createElement(He.a,{type:"primary",onClick:this.updateCredentials},"Login")))}}]),t}(a.a.Component),Ve=Object(m.b)(Ke,Re)(Fe),Ge=function(e){return{serverName:he(e.server).serverName,availableMerchants:e.availableMerchants,selectedPredefinedMerchantId:e.selectedPredefinedMerchantId,isPredefinedMerchant:e.isPredefinedMerchant}},qe=function(e){return{onUpdateCredentials:function(t){return e($(t))},onUpdateAvailableMerchansts:function(t){return e({type:x,payload:t})},onSetIsPredefinedMerchant:function(t){return e(oe(t))}}},Je=ue.a.Option,We=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).updateMerchant=function(e){var t=r.props.availableMerchants.find(function(t){return t.id===e});r.props.onUpdateCredentials({id:t.id,userName:t.username,password:t.sharedSecret,isPredefinedMerchant:!0})},r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"MerchantList"},a.a.createElement("div",{className:"AvailableMerchant",onClick:function(){e.props.onSetIsPredefinedMerchant(!0)}},a.a.createElement(Be.a,{checked:this.props.isPredefinedMerchant})," Predefined Merchants:"),a.a.createElement("div",{className:"PredefinedMerchantList"},a.a.createElement(ue.a,{showSearch:!0,style:{width:"100%"},placeholder:"Select a merchant",value:this.props.selectedPredefinedMerchantId,optionFilterProp:"children",onChange:this.updateMerchant,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.props.availableMerchants.map(function(e){return a.a.createElement(Je,{key:e.id,value:e.id},e.id)}))))}}]),t}(a.a.Component),Ye=Object(m.b)(Ge,qe)(We),Xe=function(e){return{isPredefinedMerchant:e.isPredefinedMerchant}},$e=function(e){return{onSetIsPredefinedMerchant:function(t){return e(oe(t))}}},Qe=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"MerchantSettings"},a.a.createElement("div",{style:{width:"-webkit-fill-available"}},a.a.createElement(Ve,null)),a.a.createElement("div",{style:{width:"-webkit-fill-available"}},a.a.createElement(Ye,null)))}}]),t}(a.a.Component),Ze=Object(m.b)(Xe,$e)(Qe),et=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).onTabChange=function(e){r.props.onSetActiveConfigurationTab(e)},r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t={general:a.a.createElement(ze,null),merchant:a.a.createElement(Ze,null)};return a.a.createElement("div",{className:"Configuration"},a.a.createElement(i.a,{style:{width:"100%"},tabList:[{key:"general",tab:"General"},{key:"merchant",tab:"Merchant"}],activeTabKey:this.props.activeConfiguratioTab,onTabChange:function(t){e.onTabChange(t)},hoverable:!0},t[this.props.activeConfiguratioTab]))}}]),t}(a.a.Component),tt=Object(m.b)(ie,ce)(et),rt=function(e){return{stepIndex:e.stepIndex}},nt=function(e){return{onResetStepIndex:function(){return e({type:j})}}},at=r(21),ot=r.n(at),st=r(28),ct=r(47),it=r(37),ut=r.n(it),lt=function(e){return{purchaseCountry:e.purchaseCountry,purchaseCurrency:e.purchaseCurrency,locale:e.locale,design:e.design,orderAmount:e.orderAmount,orderTaxAmount:e.orderTaxAmount,orderLines:e.orderLines,server:e.server,authorizationHeader:e.authorizationHeader,isActionInProgress:e.isActionInProgress,isSessionCreated:null!==e.session&&void 0!==e.session,serverType:(t=e.server,he(t).serverType),proxyMode:e.proxyMode,proxyUrl:e.proxyUrl};var t},pt=function(e){return{onUpdateSession:function(t){return e({type:g,payload:t})},onIncreaseStepIndex:function(){return e(ee())},onAddMessageDetails:function(t){return e(Z(t))},onResetCredentials:function(){return e({type:w})},onSetActionInProgress:function(t){return e(te(t))}}};function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var ht=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).getPayload=function(){var e={purchase_country:r.props.purchaseCountry,purchase_currency:r.props.purchaseCurrency,locale:r.props.locale,order_amount:r.props.orderAmount,order_tax_amount:r.props.orderTaxAmount,order_lines:r.props.orderLines};return""!==r.props.design&&(e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(r,!0).forEach(function(t){Object(ct.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({design:r.props.design},e)),e},r.getUrl=function(){return r.props.proxyMode?"".concat(r.props.proxyUrl,"/").concat(r.props.server,"/payments/v1/sessions"):"".concat(r.props.server,"/payments/v1/sessions")},r.getHeaders=function(){return{Authorization:r.props.authorizationHeader,"Content-Type":"application/json"}},r.componentDidMount=function(){r.props.onSetActionInProgress(!1);var e={headers:r.getHeaders(),requestUrl:r.getUrl(),requestMethod:"POST",body:r.getPayload(),type:"json",title:"To create a session",direction:"request",timeStamp:Date.now()};r.props.onAddMessageDetails(e)},r.createSession=Object(st.a)(ot.a.mark(function e(){var t,n,a,o;return ot.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props.authorizationHeader,n="internal"===r.props.serverType?"Please select a merchant before you continue.":"Please fill in the username and password before you continue.",t){e.next=5;break}return c.a.open({message:"Credentials missing",description:n,onClick:function(){}}),e.abrupt("return");case 5:return r.props.onSetActionInProgress(!0),e.next=8,ut()({method:"post",url:r.getUrl(),headers:r.getHeaders(),data:r.getPayload()}).catch(function(e){return e.response});case 8:if(a=e.sent,r.props.onSetActionInProgress(!1),a){e.next=13;break}return c.a.open({message:"An error has occured",description:"Please check your browser console."}),e.abrupt("return");case 13:o={headers:a.headers,responseStatus:a.status,body:a.data,type:"json",title:"Create session response",timeStamp:Date.now()},r.props.onAddMessageDetails(o),a.status<300&&(r.props.onUpdateSession(a.data),r.props.onIncreaseStepIndex());case 16:case"end":return e.stop()}},e)})),r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.isActionInProgress?null:a.a.createElement("div",{className:"StepButton"},a.a.createElement(He.a,{type:"primary",onClick:this.createSession,id:"create-sesssion"},"Create Session",a.a.createElement(we.a,{type:"right"})))}}]),t}(a.a.Component),mt=Object(m.b)(lt,pt)(ht),yt=function(e){return{clientToken:e.session&&e.session.client_token,isActionInProgress:e.isActionInProgress,appVsn:e.appVsn}},ft=function(e){return{onIncreaseStepIndex:function(){return e(ee())},onAddMessageDetails:function(t){return e(Z(t))},onSetActionInProgress:function(t){return e(te(t))}}},gt=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).initWidget=Object(st.a)(ot.a.mark(function e(){return ot.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.Klarna.Payments.__APP_VERSION__=r.props.appVsn||"",window.Klarna.Payments.init({client_token:r.props.clientToken}),c.a.open({message:"Initialize Klarna Payments:",description:"done",onClick:function(){}}),r.props.onIncreaseStepIndex();case 4:case"end":return e.stop()}},e)})),r.componentDidMount=function(){r.props.onSetActionInProgress(!1);var e={title:"To Initialize Klarna Payments",code:"Klarna.Payments.init({\n  client_token: '".concat(r.props.clientToken,"'\n})"),direction:"request",type:"js",timeStamp:Date.now()};r.props.onAddMessageDetails(e)},r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.isActionInProgress?null:a.a.createElement("div",{className:"StepButton"},a.a.createElement(He.a,{onClick:this.initWidget,type:"primary",id:"init"},"Init",a.a.createElement(we.a,{type:"right"})))}}]),t}(a.a.Component),St=Object(m.b)(yt,ft)(gt),bt=function(e){return{clientToken:e.session&&e.session.client_token,paymentMethodCategory:e.paymentMethodCategory,isLoaded:e.load&&e.load.show_form,availablePaymentMethodCategories:e.session.payment_method_categories.map(function(e){return e.identifier}),isActionInProgress:e.isActionInProgress}},vt=function(e){return{onUpdateLoadData:function(t){return e({type:S,payload:t})},onIncreaseStepIndex:function(){return e(ee())},onAddMessageDetails:function(t){return e(Z(t))},onUpatePaymentCategory:function(t){return e({type:D,payload:t})},onSetActionInProgress:function(t){return e(te(t))}}},At=ue.a.Option,Ot=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).loadWidget=Object(st.a)(ot.a.mark(function e(){var t,n;return ot.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.props.onSetActionInProgress(!0),e.next=3,window.loadPromise({container:"#klarna-payments-container",payment_method_category:r.props.paymentMethodCategory});case 3:t=e.sent,r.props.onSetActionInProgress(!1),r.props.onUpdateLoadData(t),n={title:"Load result",code:JSON.stringify(t,null,2),type:"js",timeStamp:Date.now()},r.props.onAddMessageDetails(n),t.show_form&&r.props.onIncreaseStepIndex();case 9:case"end":return e.stop()}},e)})),r.addLoadMessageDetails=function(e){var t={title:"To load Klarna Payments",code:"Klarna.Payments.load({\n    container: '#klarna-payments-container',\n    payment_method_category: '".concat(e,"'\n  }, function (res) {\n    console.debug(res);\n})"),direction:"request",type:"js",timeStamp:Date.now()};r.props.onAddMessageDetails(t)},r.componentDidMount=function(){r.props.onSetActionInProgress(!1),r.addLoadMessageDetails(r.props.paymentMethodCategory)},r.updatePaymentMethodCategory=function(e){r.props.onUpatePaymentCategory(e),r.addLoadMessageDetails(e)},r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.isActionInProgress?null:a.a.createElement("div",{className:"StepButton"},a.a.createElement("div",{className:"PaymentMethodCategory"},a.a.createElement(ue.a,{defaultValue:this.props.paymentMethodCategory,onChange:this.updatePaymentMethodCategory,style:{width:"160px"}},this.props.availablePaymentMethodCategories.map(function(e){return a.a.createElement(At,{key:e,value:e},e)}))),a.a.createElement(He.a,{onClick:this.loadWidget,type:"primary",id:"load"},"Load",a.a.createElement(we.a,{type:"right"})))}}]),t}(a.a.Component),Et=Object(m.b)(bt,vt)(Ot),Ct=function(e){return{purchaseCountry:e.purchaseCountry,purchaseCurrency:e.purchaseCurrency,paymentMethodCategory:e.paymentMethodCategory,orderAmount:e.orderAmount,orderTaxAmount:e.orderTaxAmount,orderLines:e.orderLines,isAuthorized:e.authorize&&e.authorize.approved,billingAddress:e.billingAddress,shouldSendBillingAddress:e.shouldSendBillingAddress,isActionInProgress:e.isActionInProgress,customerData:e.customerData,shouldSendCustomerData:e.shouldSendCustomerData}},Pt=function(e){return{onUpdateAuthorization:function(t){return e({type:b,payload:t})},onIncreaseStepIndex:function(){return e(ee())},onAddMessageDetails:function(t){return e(Z(t))},onSetActionInProgress:function(t){return e(te(t))}}};function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(r,!0).forEach(function(t){Object(ct.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var _t=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).getPaymentMethodCategory=function(){return{payment_method_category:r.props.paymentMethodCategory}},r.getAuthorizeParams=function(){var e={purchase_country:r.props.purchaseCountry,purchase_currency:r.props.purchaseCurrency,order_amount:r.props.orderAmount,order_tax_amount:r.props.orderTaxAmount,order_lines:r.props.orderLines};return r.props.shouldSendCustomerData&&(e=jt({},e,{customer:r.props.customerData})),r.props.shouldSendBillingAddress&&(e=jt({},e,{billing_address:r.props.billingAddress,shipping_address:r.props.billingAddress})),e},r.authorize=Object(st.a)(ot.a.mark(function e(){var t,n;return ot.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.props.onSetActionInProgress(!0),e.next=3,window.authorizePromise(r.getPaymentMethodCategory(),r.getAuthorizeParams());case 3:t=e.sent,r.props.onSetActionInProgress(!1),r.props.onUpdateAuthorization(t),n={title:"Authorize result",code:JSON.stringify(t,null,2),type:"js",timeStamp:Date.now()},r.props.onAddMessageDetails(n),t.approved&&r.props.onIncreaseStepIndex();case 9:case"end":return e.stop()}},e)})),r.componentDidMount=function(){r.props.onSetActionInProgress(!1);var e={title:"To authorize Klarna Payments",code:"Klarna.Payments.authorize(".concat(JSON.stringify(r.getPaymentMethodCategory(),null,2),",\n").concat(JSON.stringify(r.getAuthorizeParams(),null,2),",\n}, function(res) {\n  console.debug(res);\n})"),direction:"request",type:"js",timeStamp:Date.now()};r.props.onAddMessageDetails(e)},r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.isActionInProgress?null:a.a.createElement("div",{className:"StepButton"},a.a.createElement(He.a,{onClick:this.authorize,type:"primary",id:"authorize"},"Authorize",a.a.createElement(we.a,{type:"right"})))}}]),t}(a.a.Component),wt=Object(m.b)(Ct,Pt)(_t),Dt=r(183),Mt=r.n(Dt),xt=function(e){return{authorizationToken:e.authorize&&e.authorize.authorization_token,purchaseCountry:e.purchaseCountry,purchaseCurrency:e.purchaseCurrency,orderAmount:e.orderAmount,orderTaxAmount:e.orderTaxAmount,orderLines:e.orderLines,merchant_reference1:Mt()(),server:e.server,authorizationHeader:e.authorizationHeader,isOrderCreated:e.order&&e.order.order_id,billingAddress:e.billingAddress,shouldSendBillingAddress:e.shouldSendBillingAddress,isActionInProgress:e.isActionInProgress,proxyMode:e.proxyMode,proxyUrl:e.proxyUrl}},Ut=function(e){return{onUpdateOrderData:function(t){return e({type:v,payload:t})},onIncreaseStepIndex:function(){return e(ee())},onAddMessageDetails:function(t){return e(Z(t))},onSetActionInProgress:function(t){return e(te(t))}}};function kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var Tt=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).getUrl=function(){return r.props.proxyMode?"".concat(r.props.proxyUrl,"/").concat(r.props.server,"/payments/v1/authorizations/").concat(r.props.authorizationToken,"/order"):"".concat(r.props.server,"/payments/v1/authorizations/").concat(r.props.authorizationToken,"/order")},r.getPayload=function(){var e={purchase_country:r.props.purchaseCountry,purchase_currency:r.props.purchaseCurrency,order_amount:r.props.orderAmount,order_tax_amount:r.props.orderTaxAmount,order_lines:r.props.orderLines,merchant_urls:{confirmation:"https://example.com/confirmation"},merchant_reference1:r.props.merchant_reference1};return r.props.shouldSendBillingAddress?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kt(r,!0).forEach(function(t){Object(ct.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{billing_address:r.props.billingAddress,shipping_address:r.props.billingAddress}):e},r.getHeaders=function(){return{Authorization:r.props.authorizationHeader,"Content-Type":"application/json"}},r.componentDidMount=function(){r.props.onSetActionInProgress(!1);var e={headers:r.getHeaders(),requestUrl:r.getUrl(),requestMethod:"POST",body:r.getPayload(),type:"json",title:"To create an order",direction:"request",timeStamp:Date.now()};r.props.onAddMessageDetails(e)},r.placeOrder=Object(st.a)(ot.a.mark(function e(){var t,n;return ot.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.props.onSetActionInProgress(!0),e.next=3,ut()({method:"post",url:r.getUrl(),headers:r.getHeaders(),data:r.getPayload()}).catch(function(e){return e.response});case 3:if(t=e.sent,r.props.onSetActionInProgress(!1),t){e.next=8;break}return c.a.open({message:"An error has occured",description:"Please check your browser console."}),e.abrupt("return");case 8:r.props.onUpdateOrderData(t.data),n={headers:t.headers,responseStatus:t.status,body:t.data,type:"json",title:"Place order response",timeStamp:Date.now()},r.props.onAddMessageDetails(n),t.status<300&&r.props.onIncreaseStepIndex();case 12:case"end":return e.stop()}},e)})),r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.isActionInProgress?null:a.a.createElement("div",{className:"StepButton"},a.a.createElement(He.a,{onClick:this.placeOrder,type:"primary",id:"place-order"},"Place Order",a.a.createElement(we.a,{type:"right"})))}}]),t}(a.a.Component),Nt=Object(m.b)(xt,Ut)(Tt),Lt=[{shipping_company:"DHL US",tracking_number:"1234567890",return_shipping_company:"UPS",return_tracking_number:"112233445566778899"}],zt=function(e){return{orderId:e.order&&e.order.order_id,server:e.server,capturedAmount:e.orderAmount,orderLines:e.orderLines,shippingInfo:Lt,authorizationHeader:e.authorizationHeader,isCaptured:e.capture&&e.capture.captureId,isActionInProgress:e.isActionInProgress,proxyMode:e.proxyMode,proxyUrl:e.proxyUrl}},Ht=function(e){return{onUpdateCaptureData:function(t){return e({type:A,payload:t})},onIncreaseStepIndex:function(){return e(ee())},onAddMessageDetails:function(t){return e(Z(t))},onSetActionInProgress:function(t){return e(te(t))}}},Bt=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).getUrl=function(){return r.props.proxyMode?"".concat(r.props.proxyUrl,"/").concat(r.props.server,"/ordermanagement/v1/orders/").concat(r.props.orderId,"/captures"):"".concat(r.props.server,"/ordermanagement/v1/orders/").concat(r.props.orderId,"/captures")},r.getPayload=function(){return{captured_amount:r.props.capturedAmount,description:"Shipped the full order",order_lines:r.props.orderLines,shipping_info:r.props.shippingInfo}},r.getHeaders=function(){return{Authorization:r.props.authorizationHeader,"Content-Type":"application/json"}},r.componentDidMount=function(){r.props.onSetActionInProgress(!1);var e={headers:r.getHeaders(),requestUrl:r.getUrl(),requestMethod:"POST",body:r.getPayload(),type:"json",title:"To capture the order",direction:"request",timeStamp:Date.now()};r.props.onAddMessageDetails(e)},r.captureOrder=Object(st.a)(ot.a.mark(function e(){var t,n,a;return ot.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.props.onSetActionInProgress(!0),e.next=3,ut()({method:"post",url:r.getUrl(),headers:r.getHeaders(),data:r.getPayload()}).catch(function(e){return e.response});case 3:if(t=e.sent,r.props.onSetActionInProgress(!1),t){e.next=8;break}return c.a.open({message:"An error has occured",description:"Please check your browser console."}),e.abrupt("return");case 8:n={headers:t.headers,responseStatus:t.status,body:t.data,type:"json",title:"Capture order response",timeStamp:Date.now()},r.props.onAddMessageDetails(n),t.status<300&&(a=t.headers["capture-id"],r.props.onUpdateCaptureData({captureId:a}),r.props.onIncreaseStepIndex());case 11:case"end":return e.stop()}},e)})),r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.isActionInProgress?null:a.a.createElement("div",{className:"StepButton"},a.a.createElement(He.a,{onClick:this.captureOrder,type:"primary",id:"capture"},"Capture Order",a.a.createElement(we.a,{type:"right"})))}}]),t}(a.a.Component),Rt=Object(m.b)(zt,Ht)(Bt),Kt=function(e){return{shouldShowBillingAddress:e.shouldShowBillingAddress,shouldShowShoppingCart:e.shouldShowShoppingCart,shouldShowCustomerData:e.shouldShowCustomerData,purchaseCountry:e.purchaseCountry,isAccessFromInternal:e.isAccessFromInternal,locale:e.locale,design:e.design,merchant:e.isPredefinedMerchant?e.selectedPredefinedMerchantId:e.localMerchantUsername}},Ft=function(e){return{onSetShouldShowBillingAddress:function(t){return e(ne(t))},onSetShouldShowShoppingCart:function(t){return e(ae(t))},onSetShouldShowCustomerData:function(t){return e(se(t))},onUpdateLocale:function(t){return e({type:Y,payload:t})},onUpdateDesign:function(t){return e({type:W,payload:t})},onIncreaseStepIndex:function(){return e(ee())}}},Vt=["da-DK","de-CH","en-AT","en-CH","en-DK","en-GB","en-NO","en-US","fi-FI","it-IT","nl-NL","sv-FI","de-AT","de-DE","en-CA","en-DE","en-FI","en-NL","en-SE","es-ES","es-US","fr-CH","it-CH","nb-NO","pl-PL","sv-SE"],Gt=function(e){switch(e){case"GB":return"en-GB";case"DE":return"de-DE";case"US":return"en-US";case"AT":return"de-AT";case"DK":return"da-DK";case"NL":return"nl-NL";case"NO":return"nb-NO";case"SE":return"sv-SE";case"FI":return"fi-FI";default:return""}},qt=ue.a.Option,Jt=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).customizeShoppingCart=function(){r.props.onSetShouldShowShoppingCart(!r.props.shouldShowShoppingCart)},r.customizeBillingAddress=function(){r.props.onSetShouldShowBillingAddress(!r.props.shouldShowBillingAddress)},r.customizeCustomerData=function(){r.props.onSetShouldShowCustomerData(!r.props.shouldShowCustomerData)},r.updateLocale=function(e){r.props.onUpdateLocale(e)},r.updateDesign=function(){var e=window.document.getElementById("design");e.select();var t=e.value;r.props.onUpdateDesign(t),c.a.open({message:"Design updated to ".concat(t||"default",".")})},r.nextStep=function(){r.props.onIncreaseStepIndex(),r.props.onSetShouldShowBillingAddress(!1),r.props.onSetShouldShowShoppingCart(!1),r.props.onSetShouldShowCustomerData(!1)},r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=a.a.createElement(je.a,{addonBefore:"Design",defaultValue:this.props.design,onPressEnter:this.updateDesign,placeholder:"default",id:"design",className:"DesignButton",style:{width:"200px"},addonAfter:a.a.createElement(we.a,{type:"check",onClick:this.updateDesign,style:{color:"#2cb3ad"}})});return a.a.createElement("div",{className:"Prepare"},a.a.createElement(He.a,{onClick:this.customizeShoppingCart},"Shopping Cart"),a.a.createElement(He.a,{onClick:this.customizeBillingAddress},"Billing Adddress"),a.a.createElement(He.a,{onClick:this.customizeCustomerData},"Customer Data"),a.a.createElement("div",null,a.a.createElement(ue.a,{showSearch:!0,title:"Locale",optionFilterProp:"children",value:this.props.locale,onChange:this.updateLocale,className:"LocaleButton",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},Vt.map(function(e){return a.a.createElement(qt,{value:e,key:e},e)}))),this.props.isAccessFromInternal?e:null,a.a.createElement(He.a,{type:"primary",onClick:this.nextStep,className:"ReadyButton",disabled:!this.props.merchant,id:"ready"},"Ready",a.a.createElement(we.a,{type:"right"})))}}]),t}(a.a.Component),Wt=Object(m.b)(Kt,Ft)(Jt),Yt=function(e){return{onIncreaseStepIndex:function(){return e(ee())},onAddMessageDetails:function(t){return e(Z(t))},onSetActionInProgress:function(t){return e(te(t))}}},Xt=function(e){return{authorizationToken:e.authorize&&e.authorize.authorization_token,orderId:e.order&&e.order.order_id,refunded_amount:e.orderAmount,server:e.server,authorizationHeader:e.authorizationHeader,isActionInProgress:e.isActionInProgress,proxyMode:e.proxyMode,proxyUrl:e.proxyUrl}},$t=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).getUrl=function(){return r.props.proxyMode?"".concat(r.props.proxyUrl,"/").concat(r.props.server,"/ordermanagement/v1/orders/").concat(r.props.orderId,"/refunds"):"".concat(r.props.server,"/ordermanagement/v1/orders/").concat(r.props.orderId,"/refunds")},r.getPayload=function(){return{refunded_amount:r.props.refunded_amount}},r.getHeaders=function(){return{Authorization:r.props.authorizationHeader,"Content-Type":"application/json"}},r.componentDidMount=function(){r.props.onSetActionInProgress(!1);var e={headers:r.getHeaders(),requestUrl:r.getUrl(),requestMethod:"POST",body:r.getPayload(),type:"json",title:"To refund the order",direction:"request",timeStamp:Date.now()};r.props.onAddMessageDetails(e)},r.refundOrder=Object(st.a)(ot.a.mark(function e(){var t,n;return ot.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.props.onSetActionInProgress(!0),e.next=3,ut()({method:"post",url:r.getUrl(),headers:r.getHeaders(),data:r.getPayload()}).catch(function(e){return e.response});case 3:if(t=e.sent,r.props.onSetActionInProgress(!1),t){e.next=8;break}return c.a.open({message:"An error has occured",description:"Please check your browser console."}),e.abrupt("return");case 8:n={headers:t.headers,responseStatus:t.status,body:t.data,type:"json",title:"Refund order response",timeStamp:Date.now()},r.props.onAddMessageDetails(n),t.status<300&&r.props.onIncreaseStepIndex();case 11:case"end":return e.stop()}},e)})),r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.isActionInProgress?null:a.a.createElement("div",{className:"StepButton"},a.a.createElement(He.a,{onClick:this.refundOrder,type:"primary",id:"refund"},"Refund Order",a.a.createElement(we.a,{type:"right"})))}}]),t}(a.a.Component),Qt=[Wt,mt,St,Et,wt,Nt,Rt,Object(m.b)(Xt,Yt)($t),function(){return a.a.createElement("div",null)}],Zt=function(e){return{orderId:e.order&&e.order.order_id,server:e.server,authorizationHeader:e.authorizationHeader,isActionInProgress:e.isActionInProgress,proxyMode:e.proxyMode,proxyUrl:e.proxyUrl}},er=function(e){return{onAddMessageDetails:function(t){return e(Z(t))}}},tr=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).getUrl=function(){return r.props.proxyMode?"".concat(r.props.proxyUrl,"/").concat(r.props.server,"/ordermanagement/v1/orders/").concat(r.props.orderId):"".concat(r.props.server,"/ordermanagement/v1/orders/").concat(r.props.orderId)},r.getPayload=function(){return{}},r.getHeaders=function(){return{Authorization:r.props.authorizationHeader,"Content-Type":"application/json"}},r.readOrder=Object(st.a)(ot.a.mark(function e(){var t,n;return ot.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut()({method:"get",url:r.getUrl(),headers:r.getHeaders(),data:r.getPayload()}).catch(function(e){return e.response});case 2:if(t=e.sent){e.next=6;break}return c.a.open({message:"An error has occured",description:"Please check your browser console."}),e.abrupt("return");case 6:n={headers:t.headers,responseStatus:t.status,body:t.data,type:"json",title:"Read order response",timeStamp:Date.now()},r.props.onAddMessageDetails(n);case 8:case"end":return e.stop()}},e)})),r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.isActionInProgress||!this.props.orderId?null:a.a.createElement(He.a,{onClick:this.readOrder},"Read Order")}}]),t}(a.a.Component),rr=Object(m.b)(Zt,er)(tr),nr=function(e){return{orderId:e.order&&e.order.order_id,server:e.server,authorizationHeader:e.authorizationHeader,isActionInProgress:e.isActionInProgress,proxyMode:e.proxyMode,proxyUrl:e.proxyUrl}},ar=function(e){return{onAddMessageDetails:function(t){return e(Z(t))}}},or=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).getUrl=function(){return r.props.proxyMode?"".concat(r.props.proxyUrl,"/").concat(r.props.server,"/ordermanagement/v1/orders/").concat(r.props.orderId,"/cancel"):"".concat(r.props.server,"/ordermanagement/v1/orders/").concat(r.props.orderId,"/cancel")},r.getPayload=function(){return{}},r.getHeaders=function(){return{Authorization:r.props.authorizationHeader,"Content-Type":"application/json"}},r.cancelOrder=Object(st.a)(ot.a.mark(function e(){var t,n;return ot.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut()({method:"post",url:r.getUrl(),headers:r.getHeaders(),data:r.getPayload()}).catch(function(e){return e.response});case 2:if(t=e.sent){e.next=6;break}return c.a.open({message:"An error has occured",description:"Please check your browser console."}),e.abrupt("return");case 6:n={headers:t.headers,responseStatus:t.status,body:t.data,type:"json",title:"Cancel order response",timeStamp:Date.now()},r.props.onAddMessageDetails(n);case 8:case"end":return e.stop()}},e)})),r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.isActionInProgress||!this.props.orderId?null:a.a.createElement(He.a,{onClick:this.cancelOrder},"Cancel Order")}}]),t}(a.a.Component),sr=Object(m.b)(nr,ar)(or),cr=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).resetStep=function(){r.props.onResetStepIndex()},r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=Qt[this.props.stepIndex],t=a.a.createElement(e,null);return a.a.createElement("div",{className:"NavigateButtons"},a.a.createElement("div",null,a.a.createElement(He.a,{type:"default",onClick:this.resetStep,id:"reset"},a.a.createElement(we.a,{type:"double-left"}),"Reset")),a.a.createElement("div",{className:"StepRelatedButtons"},t),a.a.createElement("div",null,a.a.createElement(rr,null)),a.a.createElement("div",null,a.a.createElement(sr,null)))}}]),t}(a.a.Component),ir=Object(m.b)(rt,nt)(cr),ur=r(98),lr={GB:"GBP",DE:"EUR",US:"USD",AT:"EUR",DK:"DKK",NL:"EUR",NO:"NOK",SE:"SEK",FI:"EUR"},pr=r(19),dr=r.n(pr),hr={GB:"en_GB",DE:"de",US:"en_US",AT:"de_AT",CH:"de_CH",CA:"fr_CA",NL:"nl",NO:"nb_NO",SE:"sv",PL:"pl"};function mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var yr=function(e){dr.a.locale=hr[e]||"en";var t={GB:{given_name:dr.a.name.firstName(),family_name:dr.a.name.lastName(),email:"drop+kp-int-".concat(dr.a.random.number(),"@klarna.com"),title:dr.a.random.boolean()?"Mr":"Mrs",street_address:dr.a.address.streetAddress(),street_address2:dr.a.address.secondaryAddress(),postal_code:dr.a.address.zipCode(),city:dr.a.address.city(),region:"",phone:dr.a.phone.phoneNumber(),country:"GB"},DE:{given_name:dr.a.name.firstName(),family_name:dr.a.name.lastName(),email:"drop+kp-int-".concat(dr.a.random.number(),"@klarna.com"),title:dr.a.random.boolean()?"Herr":"Frau",street_address:dr.a.address.streetAddress(),street_address2:dr.a.address.secondaryAddress(),postal_code:dr.a.address.zipCode(),city:dr.a.address.city(),region:"",phone:dr.a.phone.phoneNumber(),country:"DE"},US:{given_name:dr.a.name.firstName(),family_name:dr.a.name.lastName(),email:"drop+kp-int-".concat(dr.a.random.number(),"@klarna.com"),street_address:dr.a.address.streetAddress(),street_address2:dr.a.address.secondaryAddress(),postal_code:dr.a.address.zipCode(),city:dr.a.address.city(),region:dr.a.address.stateAbbr(),phone:dr.a.phone.phoneNumber(),country:"US"}};return t[e]?t[e]:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mr(r,!0).forEach(function(t){Object(ct.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mr(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t.GB,{country:e})},fr=function(){var e=Math.floor(10*Math.random())+1,t=Number(dr.a.commerce.price()),r=e*t,n=dr.a.commerce.productName();return{type:"physical",reference:"".concat(dr.a.random.alphaNumeric(5),"-").concat(dr.a.random.alphaNumeric(5)),name:n,quantity:e,unit_price:t,tax_rate:0,total_amount:r,total_discount_amount:0,total_tax_amount:0}},gr=function(e){var t=e.orderLines,r=e.orderAmount,n=e.orderTaxAmount,a=fr(),o=[].concat(t,a);return{orderAmount:r+a.total_amount,orderTaxAmount:n+a.total_tax_amount,orderLines:o}},Sr=r(193),br=function(e){return{orderAmount:e.map(function(e){return e.total_amount}).reduce(function(e,t){return e+t}),orderTaxAmount:e.map(function(e){return e.total_tax_amount}).reduce(function(e,t){return e+t}),orderLines:Object(Sr.a)(e)}},vr=function(e,t){var r=[];for(var n in t){var a=t[n];if(a.env===e)for(var o in a.merchants){var s=a.merchants[o];s.features&&(-1!==s.features.indexOf("klarna_payments")&&r.push({id:s.id,username:s.username,sharedSecret:s.shared_secret}))}}return r},Ar={internal:"https://kp-cors-dev-proxy.subsystem.nonprod.eu1.nobel.klarna.net",production:"https://kp-cors-dev-proxy.subsystem.nonprod.eu1.nobel.klarna.net",external:"https://cors-anywhere.herokuapp.com"},Or=function(e){return e?Ar.internal:Ar.external};function Er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Er(r,!0).forEach(function(t){Object(ct.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Er(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Pr=localStorage.getItem("KTestEnv")||"https://api.playground.klarna.com",Ir=JSON.parse(localStorage.getItem("proxyMode")||"true"),jr=he(Pr).serverName,_r=localStorage.getItem("KProxyUrl")||Or(!1),wr=localStorage.getItem("KPurchaseCountry")||me[jr],Dr=function(e){return JSON.parse(localStorage.getItem("Konsumer-".concat(e))||JSON.stringify(yr(e)))},Mr=JSON.parse(localStorage.getItem("KIsPredefinedMerchant")||"false"),xr=localStorage.getItem("KSelectedLocalMerchantAuthorizationHeader"),Ur=localStorage.getItem("KSelectedPredefinedMerchantAuthorizationHeader"),kr=Mr?Ur:xr,Tr=localStorage.getItem("KSelectedLocalMerchant")||null,Nr=localStorage.getItem("KSelectedPredefinedMerchant")||null,Lr=[fr()],zr=localStorage.getItem("__APP_VERSION__")||"",Hr=localStorage.getItem("KActiveConfigTab")||"general",Br={authorizationHeader:kr,server:Pr,purchaseCountry:wr,purchaseCurrency:lr[wr],billingAddress:Dr(wr),locale:Gt(wr),design:"",shouldShowBillingAddress:!1,shouldSendBillingAddress:!0,orderAmount:Lr[0].total_amount,orderTaxAmount:Lr[0].total_tax_amount,orderLines:Lr,stepIndex:0,availableMerchants:[],messages:[],isPredefinedMerchant:Mr,localMerchantUsername:Tr,localMerchantAuthorazationHeader:xr,selectedPredefinedMerchantId:Nr,selectedPredefinedMerchantAuthorizationHeader:Ur,proxyMode:Ir,proxyUrl:_r,customerData:{date_of_birth:"1970-01-01",gender:"male"},shouldShowCustomerData:!1,shouldSendCustomerData:!0,shouldShowShoppingCart:!1,isActionInProgress:!1,isAccessFromInternal:!1,appVsn:zr,merchantData:[],activeConfiguratioTab:Hr};var Rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:var r=t.payload.id,n=t.payload.userName,a=btoa("".concat(n,":").concat(t.payload.password)),o="Basic ".concat(a),s=t.payload.isPredefinedMerchant,c=s?e.localMerchantUsername:n,i=s?e.localMerchantAuthorazationHeader:o,u=s?r:e.selectedPredefinedMerchantId,l=s?o:e.selectedPredefinedMerchantAuthorizationHeader;return s?(localStorage.setItem("KSelectedPredefinedMerchant",r),localStorage.setItem("KSelectedPredefinedMerchantAuthorizationHeader",o)):(localStorage.setItem("KSelectedLocalMerchant",n),localStorage.setItem("KSelectedLocalMerchantAuthorizationHeader",o)),Cr({},e,{authorizationHeader:o,messages:[],stepIndex:0,session:null,load:null,authorize:null,capture:null,order:null,isPredefinedMerchant:s,localMerchantUsername:c,localMerchantAuthorazationHeader:i,selectedPredefinedMerchantId:u,selectedPredefinedMerchantAuthorizationHeader:l});case g:return Cr({},e,{session:t.payload,paymentMethodCategory:t.payload.payment_method_categories[0].identifier});case S:return Cr({},e,{load:t.payload});case b:return Cr({},e,{authorize:t.payload});case v:return Cr({},e,{order:t.payload});case A:return Cr({},e,{capture:t.payload});case O:var p=t.payload;return localStorage.setItem("KPurchaseCountry",p),Cr({},e,{purchaseCountry:p,purchaseCurrency:lr[p],billingAddress:Dr(p),locale:Gt(p),messages:[],stepIndex:0,session:null,load:null,authorize:null,capture:null,order:null});case _:var d=t.payload,h=e.messages;return Cr({},e,{messages:[d].concat(h)});case E:return Cr({},e,{},gr(e));case C:return Cr({},e,{orderAmount:0,orderTaxAmount:0,orderLines:[]});case P:var m=t.payload;return Cr({},e,{},br(m));case I:return Cr({},e,{stepIndex:e.stepIndex+1<Qt.length?e.stepIndex+1:e.stepIndex});case j:return Cr({},e,{messages:[],stepIndex:0,session:null,load:null,authorize:null,capture:null,order:null,isActionInProgress:!1});case w:return localStorage.removeItem("KSelectedPredefinedMerchant"),localStorage.removeItem("KSelectedPredefinedMerchantAuthorizationHeader"),localStorage.removeItem("KSelectedLocalMerchant"),localStorage.removeItem("KSelectedLocalMerchantAuthorizationHeader"),Cr({},e,{authorizationHeader:null,localMerchantUsername:null,localMerchantAuthorazationHeader:null,selectedPredefinedMerchantId:null,selectedPredefinedMerchantAuthorizationHeader:null});case f:var $=t.payload;localStorage.setItem("KTestEnv",$);var Q=he($).serverName;return Cr({},e,{server:$,availableMerchants:vr(Q,e.merchantData)});case D:return Cr({},e,{paymentMethodCategory:t.payload});case M:return Cr({},e,{isActionInProgress:t.payload});case x:return Cr({},e,{availableMerchants:t.payload});case U:return localStorage.setItem("proxyMode",t.payload),Cr({},e,{proxyMode:t.payload});case N:var Z=t.payload;return Cr({},e,{shouldShowBillingAddress:Z,shouldShowShoppingCart:!Z&&e.shouldShowShoppingCart,shouldShowCustomerData:!Z&&e.shouldShowCustomerData});case k:var ee=t.payload;return Cr({},e,{shouldShowShoppingCart:ee,shouldShowBillingAddress:!ee&&e.shouldShowBillingAddress,shouldShowCustomerData:!ee&&e.shouldShowCustomerData});case q:var te=t.payload,re=!te&&e.shouldShowBillingAddress;return Cr({},e,{shouldShowCustomerData:te,shouldShowShoppingCart:!te&&e.shouldShowShoppingCart,shouldShowBillingAddress:re});case G:return Cr({},e,{customerData:t.payload});case J:return Cr({},e,{shouldSendCustomerData:t.payload});case T:return Cr({},e,{billingAddress:yr(e.purchaseCountry)});case L:var ne=t.payload,ae=ne.country;return localStorage.setItem("Konsumer-".concat(ae),JSON.stringify(ne)),Cr({},e,{billingAddress:ne});case H:var oe=t.payload;return localStorage.setItem("KIsPredefinedMerchant",oe),Cr({},e,{isPredefinedMerchant:oe,authorizationHeader:oe?e.selectedPredefinedMerchantAuthorizationHeader:e.localMerchantAuthorazationHeader,messages:[],stepIndex:0,session:null,load:null,authorize:null,capture:null,order:null});case B:return localStorage.removeItem("KSelectedLocalMerchant"),localStorage.removeItem("KSelectedLocalMerchantAuthorizationHeader"),Cr({},e,{localMerchantUsername:null,localMerchantAuthorazationHeader:null});case R:var se=t.payload;return localStorage.setItem("KProxyUrl",se),Cr({},e,{proxyUrl:se});case K:var ce=t.payload,ie=he(e.server).serverName;return Cr({},e,{merchantData:ce,availableMerchants:vr(ie,ce)});case F:var ue=t.payload,le=Or(ue);return Cr({},e,{isAccessFromInternal:ue,proxyUrl:localStorage.getItem("KProxyUrl")||le});case V:var pe=t.payload;return localStorage.setItem("__APP_VERSION__",pe),Cr({},e,{appVsn:pe});case z:return Cr({},e,{shouldSendBillingAddress:t.payload});case W:return Cr({},e,{design:t.payload});case Y:return Cr({},e,{locale:t.payload});case X:var de=t.payload;return localStorage.setItem("KActiveConfigTab",de),Cr({},e,{activeConfiguratioTab:de});default:return console.log("Action type",t.type),e}},Kr=Object(ur.b)(Rr),Fr=function(e){return{stepIndex:e.stepIndex,paymentMethodCategory:e.paymentMethodCategory}},Vr=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=null;return"pay_later"===this.props.paymentMethodCategory?e="":"pay_over_time"===this.props.paymentMethodCategory?e=" ":"pay_now"===this.props.paymentMethodCategory&&(e="  "),0===this.props.stepIndex?null:a.a.createElement("div",{id:"klarna-payments-container"},e)}}]),t}(a.a.Component),Gr=Object(m.b)(Fr)(Vr),qr=(r(1350),r(140)),Jr=function(e){return{stepIndex:e.stepIndex}},Wr=qr.a.Step,Yr=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"StepsWrapper"},a.a.createElement(qr.a,{size:"small",current:this.props.stepIndex},a.a.createElement(Wr,{title:"Prepare"}),a.a.createElement(Wr,{title:"Create a session"}),a.a.createElement(Wr,{title:"Init widget"}),a.a.createElement(Wr,{title:"Load widget"}),a.a.createElement(Wr,{title:"Authorize the purchase"}),a.a.createElement(Wr,{title:"Place an order"}),a.a.createElement(Wr,{title:"Deliver"}),a.a.createElement(Wr,{title:"Refund"})))}}]),t}(a.a.Component),Xr=Object(m.b)(Jr)(Yr),$r=r(1624),Qr=function(e){return{messages:e.messages}},Zr=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"MessageDetails"},this.props.messages.map(function(e){var t="";e.requestUrl&&(t+="Request URL: ".concat(e.requestUrl,"\n")),e.requestMethod&&(t+="Request Method: ".concat(e.requestMethod,"\n")),e.responseStatus&&(t+="Response Status: ".concat(e.responseStatus,"\n")),e.headers&&(t+="Headers: ".concat(JSON.stringify(e.headers,null,2),"\n")),e.body&&(t+="Body: ".concat(JSON.stringify(e.body,null,2),"\n")),e.code&&(t+="".concat(e.code,"\n"));var r="request"===e.direction?"RequestMessage":"ResponseMessage";return a.a.createElement("div",{key:e.timeStamp,className:r},e.title,":",a.a.createElement("div",{className:e.type},a.a.createElement($r.a,{language:"javascript"},t)))}))}}]),t}(a.a.Component),en=Object(m.b)(Qr)(Zr),tn=function(e){return{serverName:he(e.server).serverName,purchaseCountry:e.purchaseCountry,merchant:e.isPredefinedMerchant?e.selectedPredefinedMerchantId:e.localMerchantUsername}},rn=Object(m.b)(tn)(function(e){return a.a.createElement("div",{className:"Footer"},"environment: ".concat(e.serverName," - country: ").concat(e.purchaseCountry," - merchant: ").concat(e.merchant))}),nn=function(e){return{onUpdateMerchantData:function(t){return e({type:K,payload:t})},onSetAccessFromInternal:function(t){return e({type:F,payload:t})}}},an="https://kp-staging-merchants.subsystem.nonprod.eu1.nobel.klarna.net",on=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).componentDidMount=Object(st.a)(ot.a.mark(function e(){var t,n;return ot.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut.a.get(an,{mode:"no-cors"}).catch(function(e){console.log(e)});case 2:t=e.sent,n=t?t.data:[],r.props.onUpdateMerchantData(n),r.props.onSetAccessFromInternal(0!==n.length);case 6:case"end":return e.stop()}},e)})),r.render=function(){return null},r}return Object(h.a)(t,e),t}(a.a.Component),sn=Object(m.b)(null,nn)(on),cn=(r(131),r(35)),un=function(e){return{shouldShowBillingAddress:e.shouldShowBillingAddress,billingAddress:e.billingAddress,shouldSendBillingAddress:e.shouldSendBillingAddress}},ln=function(e){return{onSetProxyMode:function(t){return e(re(t))},onRegenerateBillingAddress:function(){return e({type:T})},onUpdateBillingAddress:function(t){return e({type:L,payload:t})},onSetShouldShowBillingAddress:function(t){return e(ne(t))},onSetShouldSendBillingAddress:function(t){return e({type:z,payload:t})}}},pn=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).handleSubmit=function(e){e.preventDefault(),r.props.form.validateFieldsAndScroll(function(e,t){e||(r.props.onUpdateBillingAddress(t),r.props.onSetShouldShowBillingAddress(!1),c.a.open({message:"Billing address updated",onClick:function(){}}))})},r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.shouldShowBillingAddress)return null;var t=this.props.form.getFieldDecorator,r=Object.keys(this.props.billingAddress).sort(),n=a.a.createElement(cn.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),r.map(function(r){return a.a.createElement(cn.a.Item,{label:r.split("_").join(" ").replace(/\b\w/g,function(e){return e.toUpperCase()}),key:r},t(r,{initialValue:e.props.billingAddress[r]})(a.a.createElement(je.a,null)))}),a.a.createElement(cn.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},a.a.createElement(He.a,{type:"default",onClick:this.props.onRegenerateBillingAddress},"Randomize"),"\xa0",a.a.createElement(He.a,{type:"primary",htmlType:"submit",id:"update-consumer"},"Update"),"\xa0"));return a.a.createElement("div",{className:"BillingAddress"},a.a.createElement("div",{className:"SendBillingAddress"},a.a.createElement(Pe.a,{checked:this.props.shouldSendBillingAddress,onChange:function(t){return e.props.onSetShouldSendBillingAddress(t)}}),"\xa0Send Billing Address"),this.props.shouldSendBillingAddress?n:null)}}]),t}(a.a.Component),dn=cn.a.create({name:"consumer"})(pn),hn=Object(m.b)(un,ln)(dn),mn=function(e){return{orderLines:e.orderLines,orderAmount:e.orderAmount,purchaseCurrency:e.purchaseCurrency,shouldShowShoppingCart:e.shouldShowShoppingCart}},yn=function(e){return{onAddNewItem:function(){return e({type:E})},onResetOrderLines:function(){return e({type:C})},onUpdateOrderLines:function(t){return e({type:P,payload:t})},onSetShouldShowShoppingCart:function(t){return e(ae(t))}}},fn=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).addNewItems=function(){r.props.onAddNewItem(),c.a.open({message:"A new item is added",description:"There are ".concat(r.props.orderLines.length+1," items in the shopping cart."),onClick:function(){}})},r.resetShoppingCart=function(){r.props.onResetOrderLines(),c.a.open({message:"The shopping card is emptied",description:"Nothing is left in the consumer cart. Please add a new item to continue.",onClick:function(){}})},r.handleSubmit=function(e){e.preventDefault(),r.props.form.validateFieldsAndScroll(function(e,t){if(!e){var n=[];Object.keys(t).forEach(function(e){var r=t[e],a=parseInt(r.quantity),o=parseInt(r.unit_price),s=parseInt(r.tax_rate),c=parseInt(r.total_discount_amount),i=parseInt(r.total_tax_amount),u=parseInt(r.total_amount);n.push({name:r.name,type:r.type,reference:r.reference,unit_price:o,quantity:a,tax_rate:s,total_amount:u,total_discount_amount:c,total_tax_amount:i})}),r.props.onUpdateOrderLines(n),r.props.onSetShouldShowShoppingCart(!1),c.a.open({message:"Shopping cart updated",onClick:function(){}})}})},r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){if(!this.props.shouldShowShoppingCart)return null;var e=this.props.form.getFieldDecorator;return a.a.createElement("div",{className:"ShoppingCart"},a.a.createElement("div",null,a.a.createElement(cn.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),this.props.orderLines.map(function(t,r){return Object.keys(t).sort().map(function(n){var o=t[n];return a.a.createElement(cn.a.Item,{label:n.split("_").join(" ").replace(/\b\w/g,function(e){return e.toUpperCase()}),key:"".concat(r,"-").concat(n)},e("".concat(r,".").concat(n),{initialValue:o})(a.a.createElement(je.a,null)))})}),a.a.createElement(cn.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},a.a.createElement(He.a,{onClick:this.addNewItems},"Add a new item"),"\xa0",a.a.createElement(He.a,{onClick:this.resetShoppingCart},"Empty cart"),"\xa0",a.a.createElement(He.a,{type:"primary",htmlType:"submit",id:"update-cart"},"Update")))),a.a.createElement("div",{className:"CartSummary"},"There are ",this.props.orderLines.length," products in the shopping cart. Total amount is ",this.props.orderAmount/100," ",this.props.purchaseCurrency," ."))}}]),t}(a.a.Component),gn=cn.a.create({name:"cart"})(fn),Sn=Object(m.b)(mn,yn)(gn),bn=function(e){return{customerData:e.customerData,shouldShowCustomerData:e.shouldShowCustomerData,shouldSendCustomerData:e.shouldSendCustomerData}},vn=function(e){return{onSetShouldShowCustomerData:function(t){return e(se(t))},onSetShouldSendCustomerData:function(t){return e({type:J,payload:t})},onUpdateCustomerData:function(t){return e({type:G,payload:t})}}},An=function(e){function t(){var e,r;Object(u.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).handleSubmit=function(e){e.preventDefault(),r.props.form.validateFieldsAndScroll(function(e,t){e||(r.props.onUpdateCustomerData(t),r.props.onSetShouldShowCustomerData(!1),c.a.open({message:"Customer data updated",onClick:function(){}}))})},r}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.shouldShowCustomerData)return null;var t=this.props.form.getFieldDecorator,r=Object.keys(this.props.customerData).sort(),n=a.a.createElement(cn.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),r.map(function(r){return a.a.createElement(cn.a.Item,{label:r.split("_").join(" ").replace(/\b\w/g,function(e){return e.toUpperCase()}),key:r},t(r,{initialValue:e.props.customerData[r]})(a.a.createElement(je.a,null)))}),a.a.createElement(cn.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},a.a.createElement(He.a,{type:"primary",htmlType:"submit",id:"update-consumer"},"Update"),"\xa0"));return a.a.createElement("div",{className:"CustomerData"},a.a.createElement("div",{className:"SendCustomerData"},a.a.createElement(Pe.a,{checked:this.props.shouldSendCustomerData,onChange:function(t){return e.props.onSetShouldSendCustomerData(t)}}),"\xa0Send Customer Data"),this.props.shouldSendCustomerData?n:null)}}]),t}(a.a.Component),On=cn.a.create({name:"consumer"})(An),En=Object(m.b)(bn,vn)(On),Cn=(r(1619),r(190)),Pn=function(e){return{isActionInProgress:e.isActionInProgress,merchant:e.isPredefinedMerchant?e.selectedPredefinedMerchantId:e.localMerchantUsername}},In=Object(m.b)(Pn)(function(e){var t=a.a.createElement(we.a,{type:"loading",style:{fontSize:24},spin:!0}),r=a.a.createElement(Ie.a,{message:"Please log in or select a merchant.",type:"error",style:{padding:"5px 15px"}});return e.merchant?e.isActionInProgress?a.a.createElement(Cn.a,{indicator:t}):null:a.a.createElement("div",{className:"InformationCenter"},r)});c.a.config({placement:"bottomRight",bottom:50,duration:6});var jn=function(){return a.a.createElement(m.a,{store:Kr},a.a.createElement("div",{className:"App"},a.a.createElement(sn,null),a.a.createElement(tt,null),a.a.createElement(Gr,null),a.a.createElement(Xr,null),a.a.createElement(ir,null),a.a.createElement(In,null),a.a.createElement(hn,null),a.a.createElement(Sn,null),a.a.createElement(En,null),a.a.createElement(en,null),a.a.createElement("div",{className:"SpaceForFooter"}),a.a.createElement(rn,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(jn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},197:function(e,t,r){e.exports=r(1621)},202:function(e,t,r){},204:function(e,t,r){}},[[197,1,2]]]);